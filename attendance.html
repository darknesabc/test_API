function displayData(values, selectedDate) {
    // 자리번호 및 이름 분리
    const userInfo = $('#userName').text();
    const [userSeatNumber, userName] = userInfo.split(' ');

    // 테이블 생성
    let output = '<table><tr>';
    output += '<th>자리번호</th><th>이름</th><th>교시</th>'; // 기본 헤더

    // 1행에서 날짜 헤더 추가 (H부터 U열까지)
    for (let i = 7; i < values[0].length && i <= 20; i++) {
        output += `<th>${values[0][i]}</th>`;
    }
    output += '</tr>';

    let dataExists = false; // 데이터 존재 여부 플래그

    // 데이터 행 추가
    for (let i = 2; i < values.length; i++) {
        // 선택한 날짜와 데이터가 일치하는지 확인
        if (values[i][0] === userSeatNumber && values[i][1] === userName) {
            let dateMatches = !selectedDate; // 날짜가 선택되지 않았을 경우 기본적으로 true
            const formattedSelectedDate = selectedDate ? formatDate(selectedDate) : ''; // 선택한 날짜 포맷

            for (let j = 7; j < values[i].length && j <= 20; j++) {
                // H, J, L, N, P, R, T 열에서 날짜 비교
                const cellDate = values[0][j] ? formatDate(values[0][j]) : ''; // 셀 날짜 포맷
                if (cellDate === formattedSelectedDate) {
                    dateMatches = true;
                    break;
                }
            }

            if (dateMatches) {
                output += '<tr>';
                output += `<td>${values[i][0]}</td>`; // 자리번호
                output += `<td>${values[i][1]}</td>`; // 이름
                output += `<td>${values[i][6]}</td>`; // 교시 (G열)

                // H부터 U열까지 데이터 추가 및 값 변환 (출석: 1, 결석: 3)
                for (let j = 7; j < values[i].length && j <= 20; j++) {
                    let cellValue = values[i][j];
                    if (cellValue == '1') {
                        output += `<td class="attendance">출석</td>`;
                    } else if (cellValue == '3') {
                        output += `<td class="absence">결석</td>`;
                    } else {
                        output += `<td>${cellValue}</td>`;
                    }
                }
                output += '</tr>';
                dataExists = true; // 데이터 존재
            }
        }
    }

    if (!dataExists) {
        output = '<p>데이터 없음</p>'; // 데이터가 없을 경우
    }

    output += '</table>';
    $('#output').html(output); // 기존 박스에 데이터 삽입
}
